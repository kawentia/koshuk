{"ast":null,"code":"const reducer = (state, action) => {\n  if (action.type === \"CLEAR_CART\") {\n    return {\n      ...state,\n      cart: []\n    };\n  }\n  if (action.type === \"REMOVE\") {\n    return {\n      ...state,\n      cart: state.cart.filter(item => item.id !== action.payload)\n    };\n  }\n  if (action.type === \"INCREASE\") {\n    return {\n      ...state,\n      cart: state.cart.map(item => {\n        if (item.id === action.payload) {\n          return {\n            ...item,\n            amount: item.amount + 1\n          };\n        }\n        return item;\n      })\n    };\n  }\n  if (action.type === \"DECREASE\") {\n    return {\n      ...state,\n      cart: state.cart.map(item => {\n        if (item.id === action.payload) {\n          return {\n            ...item,\n            amount: item.amount - 1\n          };\n        }\n        return item;\n      }).filter(item => item.amount > 0) // Видаляємо товари з кількістю 0\n    };\n  }\n  if (action.type === \"GET_TOTALS\") {\n    const {\n      total,\n      amount\n    } = state.cart.reduce((cartTotal, cartItem) => {\n      const itemTotal = cartItem.amount * cartItem.price;\n      cartTotal.total += itemTotal;\n      cartTotal.amount += cartItem.amount;\n      return cartTotal;\n    }, {\n      total: 0,\n      amount: 0\n    });\n\n    // Округляємо total до двох десяткових часток\n    return {\n      ...state,\n      total: Math.round(total * 100) / 100,\n      amount\n    };\n  }\n  return state;\n};\nexport default reducer;","map":{"version":3,"names":["reducer","state","action","type","cart","filter","item","id","payload","map","amount","total","reduce","cartTotal","cartItem","itemTotal","price","Math","round"],"sources":["C:/Users/catys/Downloads/setup/src/reducer.js"],"sourcesContent":["const reducer = (state, action) => {\r\n  if (action.type === \"CLEAR_CART\") {\r\n    return { ...state, cart: [] };\r\n  }\r\n\r\n  if (action.type === \"REMOVE\") {\r\n    return {\r\n      ...state,\r\n      cart: state.cart.filter((item) => item.id !== action.payload),\r\n    };\r\n  }\r\n\r\n  if (action.type === \"INCREASE\") {\r\n    return {\r\n      ...state,\r\n      cart: state.cart.map((item) => {\r\n        if (item.id === action.payload) {\r\n          return { ...item, amount: item.amount + 1 };\r\n        }\r\n        return item;\r\n      }),\r\n    };\r\n  }\r\n\r\n  if (action.type === \"DECREASE\") {\r\n    return {\r\n      ...state,\r\n      cart: state.cart\r\n        .map((item) => {\r\n          if (item.id === action.payload) {\r\n            return { ...item, amount: item.amount - 1 };\r\n          }\r\n          return item;\r\n        })\r\n        .filter((item) => item.amount > 0), // Видаляємо товари з кількістю 0\r\n    };\r\n  }\r\n\r\n  if (action.type === \"GET_TOTALS\") {\r\n    const { total, amount } = state.cart.reduce(\r\n      (cartTotal, cartItem) => {\r\n        const itemTotal = cartItem.amount * cartItem.price;\r\n        cartTotal.total += itemTotal;\r\n        cartTotal.amount += cartItem.amount;\r\n        return cartTotal;\r\n      },\r\n      { total: 0, amount: 0 }\r\n    );\r\n\r\n    // Округляємо total до двох десяткових часток\r\n    return { ...state, total: Math.round(total * 100) / 100, amount };\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nexport default reducer;\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EACjC,IAAIA,MAAM,CAACC,IAAI,KAAK,YAAY,EAAE;IAChC,OAAO;MAAE,GAAGF,KAAK;MAAEG,IAAI,EAAE;IAAG,CAAC;EAC/B;EAEA,IAAIF,MAAM,CAACC,IAAI,KAAK,QAAQ,EAAE;IAC5B,OAAO;MACL,GAAGF,KAAK;MACRG,IAAI,EAAEH,KAAK,CAACG,IAAI,CAACC,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACM,OAAO;IAC9D,CAAC;EACH;EAEA,IAAIN,MAAM,CAACC,IAAI,KAAK,UAAU,EAAE;IAC9B,OAAO;MACL,GAAGF,KAAK;MACRG,IAAI,EAAEH,KAAK,CAACG,IAAI,CAACK,GAAG,CAAEH,IAAI,IAAK;QAC7B,IAAIA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACM,OAAO,EAAE;UAC9B,OAAO;YAAE,GAAGF,IAAI;YAAEI,MAAM,EAAEJ,IAAI,CAACI,MAAM,GAAG;UAAE,CAAC;QAC7C;QACA,OAAOJ,IAAI;MACb,CAAC;IACH,CAAC;EACH;EAEA,IAAIJ,MAAM,CAACC,IAAI,KAAK,UAAU,EAAE;IAC9B,OAAO;MACL,GAAGF,KAAK;MACRG,IAAI,EAAEH,KAAK,CAACG,IAAI,CACbK,GAAG,CAAEH,IAAI,IAAK;QACb,IAAIA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACM,OAAO,EAAE;UAC9B,OAAO;YAAE,GAAGF,IAAI;YAAEI,MAAM,EAAEJ,IAAI,CAACI,MAAM,GAAG;UAAE,CAAC;QAC7C;QACA,OAAOJ,IAAI;MACb,CAAC,CAAC,CACDD,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACI,MAAM,GAAG,CAAC,CAAC,CAAE;IACxC,CAAC;EACH;EAEA,IAAIR,MAAM,CAACC,IAAI,KAAK,YAAY,EAAE;IAChC,MAAM;MAAEQ,KAAK;MAAED;IAAO,CAAC,GAAGT,KAAK,CAACG,IAAI,CAACQ,MAAM,CACzC,CAACC,SAAS,EAAEC,QAAQ,KAAK;MACvB,MAAMC,SAAS,GAAGD,QAAQ,CAACJ,MAAM,GAAGI,QAAQ,CAACE,KAAK;MAClDH,SAAS,CAACF,KAAK,IAAII,SAAS;MAC5BF,SAAS,CAACH,MAAM,IAAII,QAAQ,CAACJ,MAAM;MACnC,OAAOG,SAAS;IAClB,CAAC,EACD;MAAEF,KAAK,EAAE,CAAC;MAAED,MAAM,EAAE;IAAE,CACxB,CAAC;;IAED;IACA,OAAO;MAAE,GAAGT,KAAK;MAAEU,KAAK,EAAEM,IAAI,CAACC,KAAK,CAACP,KAAK,GAAG,GAAG,CAAC,GAAG,GAAG;MAAED;IAAO,CAAC;EACnE;EAEA,OAAOT,KAAK;AACd,CAAC;AAED,eAAeD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}